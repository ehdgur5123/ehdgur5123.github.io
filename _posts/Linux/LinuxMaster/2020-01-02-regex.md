---
layout: single
title: "정규 표현식"
categories: Linux
tag: [Linux]
permalink : /posts/LinuxMaster-02/
classes : custom-style
toc: true
author_profile: false
sidebar:
  nav: "Linux"
---

<hr>

# 정규 표현식(Regex)

정규 표현식(<b>Reg</b>ular <b>Ex</b>pression)은 **복잡한 문자열 패턴**을 매칭할 수 있는 강력한 도구로, 복잡한 텍스트에서 특정 문자열 패턴을 빠르게 검색하거나 치환할 수 있습니다.

## 정규 표현식의 종류

1. 기본 정규 표현식(Basic Regular Expressions, BRE)
2. 확장 정규 표현식(Extended Regular Expressions, ERE)
3. Perl 정규 표현식(Perl Compatible Regular Expressions, PCRE)

각 정규 표현식의 관계는 `BRE ⊆ ERE ⊆ PCRE`의 형태로, `PCRE`가 모든 기능을 포함하고 있으나, 일부 명령어(`grep`, `sed`, `awk`)는 여전히 `BRE` 또는 `ERE`를 기본으로 사용하고 있기 때문에, 각각의 표현식이 어디에 속하는지 구분이 필요.

파이썬(Python)으로 `PCRE` 정규 표현식을 활용할 수 있는 `re` 모듈을 통해 학습하되, 각 표현식이 어느 정규 표현식에 속하는지 구분하였다.

## 기본 정규 표현식(BRE)

### 임의의 한 글자와 일치(.)

```python
import re
text = ['apple','banana','grape','orange']

for i in text:
  result = re.search(r'.a.',i)
  print(i,': ',result)
```

`.`은 임의의 **한 글자와 일치할 경우 매칭**되는 표현식으로, 위의 예제에서 `.a.`은 `a`라는 문자 양쪽에 글자가 있을 경우에만 매칭된다.

```
apple :  None
banana :  <re.Match object; span=(0, 3), match='ban'>
grape :  <re.Match object; span=(1, 4), match='rap'>
orange :  <re.Match object; span=(1, 4), match='ran'>
```

- `apple`은 `a` 앞에 문자가 없으므로 `None`
- `banana`, `grape`, `orange`는 `a` 양쪽에 문자가 있으므로 `match`
- 참고1: `banana`를 보면 조건에 맞는 문자가 두 개(`ban`, `nan`)이지만, 처음값만 매칭됨
- 참고2: `span=(0, 3)`은 매칭된 시작 인덱스값(0)과 매칭이 종료된 다음 인덱스값(3)  

### 문자열의 시작을 의미(^)

```python
import re
text = ['apple','banana','grape','orange']

for i in text:
  result = re.search(r'^a',i)
  print(i,': ',result)
```

`^`는 **문자열의 시작을 의미**하는 표현식으로, `^a`는 `a`로 시작되는 문자를 매칭

```
apple :  <re.Match object; span=(0, 1), match='a'>
banana :  None
grape :  None
orange :  None
```

- `apple`은 `a`로 시작하므로 `match`

### 문자열의 끝을 의미($)

```python
import re
text = ['apple','banana','grape','orange']

for i in text:
  result = re.search(r'e$',i)
  print(i,': ',result)
```

`$`는 **문자열의 끝을 의미**하는 표현식으로, `e$`는 `e`로 끝나는 문자를 매칭

```
apple :  <re.Match object; span=(4, 5), match='e'>
banana :  None
grape :  <re.Match object; span=(4, 5), match='e'>
orange :  <re.Match object; span=(5, 6), match='e'>
```

- `apple`, `grape`, `orange`는 `e`로 끝나므로 `match`

### 앞의 문자가 0번 이상 반복됨(*)

```python
import re
text = ['','a','abc','abb','acc']

for i in text:
    result = re.search(r'ab*',i)
    print(i,': ',result)
```

`*`은 앞의 **문자가 0번 이상 반복될 때 매칭되는 표현식**으로, 있거나 없거나 모두 매칭되므로 `a.*`(a로 시작되는 모든 문자열 매칭) 및 `a[bc]*` 등 다른 표현식과 결합하여 사용




4. `*`: 앞의 문자가 0번 이상 반복됨. <b>예:</b> `ab*c`는 `ac`, `abc`, `abbc` 등과 매칭됨.
5. `[]`: 대괄호 안에 있는 문자 중 하나와 매칭. <b>예:</b> `[abc]`는 'a', 'b', 'c' 중 하나.(와일드카드와 동일)
6. `[^]`: 대괄호(`[]`) 안에 `^`이 있다면, 문자 클래스의 부정을 의미. <b>예:</b> `[^a-z]`는 소문자 알파벳이 아닌 문자를 의미
7. `\`: 메타 문자를 일반 문자로 처리하거나 특별한 기능을 수행할 때 사용. <b>예:</b> `\.`는 점(`.`)을 문자 그대로 매칭

## 확장 정규 표현식(ERE)

1. `()`: 그룹화를 의미하며, 그룹 내 패턴을 하나의 패턴으로 처리. <b>예:</b> `(abc)+`는 `abc`가 1번 이상 반복되는 문자열과 매칭
2. `+`: 앞의 문자가 1번 이상 반복됨. <b>예:</b> `ab+c`는 `abc`, `abbc` 등과 매칭됨.
3. `?`: 앞의 패턴이 0번 또는 1번 나타남. <b>예:</b> `a?`는 `a`가 없거나 1번 있는 문자열과 매칭(` ` 또는 `a`)
4. `|`: OR 연산으로 두 패턴 중 하나와 매칭. <b>예:</b> `(abc|def)`는 `abc` 또는 `def`와 매칭.
5. `{}`: 반복 횟수를 지정. <b>예:</b> `a{2,4}`는 `a`가 2번 이상 4번 이하 반복되는 문자열과 매칭(`aa`, `aaa`, `aaaa`) 
6. `[a-z]`: 문자 범위. <b>예:</b> [a-z]는 소문자 a부터 z까지의 모든 문자와 매칭.
