---
layout: single
title: "usermod 명령어"
categories: Linux
tag: [Linux, usermod]
permalink : /posts/LinuxCommand-usermod/
classes : custom-style
toc: true
author_profile: false
sidebar:
  nav: "Linux"
---

<hr>

# usermod 명령어

`usermod` 명령어는 Linux 및 Unix 계열 운영 체제에서 **기존 사용자 계정의 속성을 수정**하는 데 사용됩니다. `useradd` 명령어로 생성된 <b>사용자 계정의 정보를 변경하거나 업데이트할 때 사용</b>되며, 그룹, 셸, 홈 디렉토리 등 다양한 계정 속성을 변경할 수 있습니다.

## 1. usermod 명령어 기본 구문

```bash
usermod [옵션] <사용자이름>
```

`usermod` 명령어는 기존에 생성된 사용자의 정보를 수정할 수 있으며, 여러 옵션을 사용하여 다양한 계정 속성을 변경할 수 있습니다.

## 2. 주요 옵션 및 조건

### 사용자 이름 변경 (-l)

`-l` (login): 사용자의 <b>로그인 이름(사용자 이름)을 변경</b>할 때 사용합니다. 새로운 사용자 이름을 기존 사용자 계정에 적용합니다.

```bash
usermod -l <새로운 사용자이름> <기존 사용자이름>
```

### 홈 디렉토리 경로 변경 (-d)

`-d` (directory): <b>사용자의 홈 디렉토리 경로를 변경</b>합니다. 홈 디렉토리를 새 위치로 변경할 수 있으며, 기존 홈 디렉토리의 파일들을 새 경로로 이동하려면 `-m`옵션을 함께 사용할 수 있습니다.

```bash
usermod -d /new/home user1
```

예시: 사용자 `user1`의 홈 디렉토리를 `/home/user1`에서 `/new/home`으로 변경합니다.

#### 경로변경 시 기존 파일 이동(-m)

`-m` (move): 사용자의 <b>기존 홈 디렉토리에 있는 모든 파일과 폴더를 새로운 홈 디렉토리로 이동<b>하는 명령어로, `-d`옵션과 함께 사용되어야 합니다.

```bash
usermod -d /new/home -m user1
```

예시: `user1`의 홈 디렉토리를 `/new/home`으로 변경하고, 기존 파일을 새 디렉토리로 이동합니다.

### 로그인 셸 변경 (-s)

`-s` (shell): 사용자의 <b>기본 로그인 셸을 변경</b>합니다. 사용자가 로그인할 때 사용할 기본 셸을 새로 지정할 수 있습니다.

```bash
usermod -s /bin/zsh user1
```

예시: 사용자 `user1`의 로그인 셸을 `/bin/bash`에서 `/bin/zsh`로 변경합니다.

### 사용자 그룹 변경 (-g)

`-g` (group): 사용자의 <b>기본 그룹을 변경</b>합니다. 사용자를 새로운 기본 그룹에 속하게 하려면 이 옵션을 사용합니다. 그룹 이름은 이미 존재하는 그룹이어야 합니다.

```bash
usermod -g developers user1
```

예시: `user1`의 기본 그룹을 `developers` 그룹으로 변경합니다.

### 추가 그룹 변경 (-G)

`-G` (groups): 사용자가 속할 <b>추가 그룹을 지정</b>합니다. 이 옵션은 사용자가 여러 그룹에 속해야 할 때 유용합니다. 기존 그룹을 유지하고 싶으면, 기존 그룹 이름을 포함한 그룹 목록을 모두 지정해야 합니다.

```bash
usermod -G group1,group2 user1
```

예시: `user1`을 `group1`과 `group2` 그룹에 추가합니다.

### 사용자 계정 비활성화 (-L)

`-L` (lock): <b>사용자의 비밀번호를 잠그는 옵션</b>으로, <u>계정을 비활성화하여 로그인을 차단</u>할 수 있습니다. 이 옵션은 계정이 임시적으로 사용되지 않아야 할 때 유용합니다.

```bash
usermod -L user1
```

예시: `user1` 계정을 잠금 상태로 전환하여 로그인을 차단합니다.

### 사용자 계정 활성화 (-U)

`-U` (unlock): <b>비밀번호 잠금을 해제하여 계정을 다시 활성화</b>합니다. 이 옵션을 사용하면 비활성화된 계정의 로그인을 다시 허용할 수 있습니다.

```bash
usermod -U user1
```

예시: 잠금 상태였던 `user1` 계정을 다시 활성화합니다.

### 사용자 ID 변경 (-u)

`-u` (user ID): 사용자의 <b>UID(사용자 ID)를 변경</b>합니다. 새로운 UID는 기존 UID와 중복되지 않아야 하며, 파일 시스템 상의 파일 소유자 정보도 자동으로 변경되지 않기 때문에 주의해야 합니다.

```bash
usermod -u 1234 user1
```

예시: `user1`의 사용자 ID(UID)를 `1234`로 변경합니다.
