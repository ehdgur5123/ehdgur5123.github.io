---
layout: single
title: "ifconfig 명령어"
categories: Linux
tag: [Linux, ifconfig]
permalink : /posts/LinuxCommand-ifconfig/
classes : custom-style
toc: true
author_profile: false
sidebar:
  nav: "Linux"
---

<hr>

# ifconfig 명령어

`ifconfig` 명령어는 Linux 및 Unix 계열 운영 체제에서 **네트워크 인터페이스 설정 및 관리를 수행하는 명령어**입니다. 이를 통해 네트워크 인터페이스의 IP 주소, 서브넷 마스크, 브로드캐스트 주소 등의 정보를 조회하거나 설정할 수 있습니다. 예전에는 기본 네트워크 관리 도구였으나, 현재는 `ip` 명령어로 대체되는 추세입니다.

## ifconfig 명령어 기본 구문

```bash
ifconfig [인터페이스] [옵션]
```

`ifconfig` 명령어는 **네트워크 인터페이스를 관리**하는 데 사용되며, 특정 인터페이스의 상태를 확인하거나 네트워크 설정을 변경할 수 있습니다.

## 주요 옵션 및 조건

### 네트워크 인터페이스 정보 확인

옵션 없이 `ifconfig`를 입력하면, 시스템에 **활성화된 모든 네트워크 인터페이스에 대한 정보를 출력**합니다.

```bash
ifconfig
```

예시: 시스템의 모든 네트워크 인터페이스(예: `eth0`, `lo`)의 <b>IP 주소, 서브넷 마스크, MAC 주소, 상태</b> 등의 정보를 출력합니다.

### 특정 인터페이스 정보 확인

특정 인터페이스만 조회하려면 **인터페이스 이름을 명령어에 추가**합니다. 예를 들어, `eth0` 인터페이스의 정보를 조회하려면 다음과 같이 입력합니다.

```bash
ifconfig eth0
```

예시: `eth0` 인터페이스의 IP 주소, MAC 주소, 네트워크 정보 등을 확인합니다.

### 네트워크 인터페이스 활성화 (up)

`up` 옵션은 **네트워크 인터페이스를 활성화**하는 명령입니다. 비활성화된 네트워크 인터페이스를 사용 가능 상태로 전환합니다.

```bash
ifconfig eth0 up
```

예시: `eth0` 인터페이스를 활성화합니다.

### 네트워크 인터페이스 비활성화 (down)

`down` 옵션은 **네트워크 인터페이스를 비활성화**하는 명령입니다. 이를 통해 특정 네트워크 인터페이스를 네트워크에서 제외할 수 있습니다.

```bash
ifconfig eth0 down
```

예시: `eth0` 인터페이스를 비활성화하여 <b>네트워크 연결을 끊습니다.</b>

### IP 주소 설정(ip 주소 입력)

`ifconfig` 명령어를 사용해 네트워크 인터페이스의 **IP 주소를 수동으로 설정**할 수 있습니다.

```bash
ifconfig eth0 192.168.1.10
```

예시: `eth0` 인터페이스의 IP 주소를 `192.168.1.10`으로 설정합니다.

### 서브넷 마스크 설정(netmask)

`ifconfig` 명령어의 `netmask` 옵션을 사용해 네트워크 인터페이스의 **서브넷 마스크를 수동으로 설정**할 수 있습니다.

```bash
ifconfig eth0 netmask 255.255.255.0
```

예시: `eth0` 인터페이스의 서브넷 마스크를 `255.255.255.0`으로 설정합니다.

### 브로드캐스트 주소 설정(broadcast)

`ifconfig` 명령어의 `broadcast` 옵션을 사용해 네트워크 인터페이스의 **브로드캐스트 주소를 수동으로 설정**할 수 있습니다.

> 브로드캐스트 주소는 동일한 네트워크 내의 모든 장치에 데이터를 전송할 때 사용

```bash
ifconfig eth0 broadcast 192.168.1.255
```

예시: `eth0` 인터페이스의 브로드캐스트 주소를 `192.168.1.255`로 설정합니다.

### MTU 설정(mtu)

**MTU(Maximum Transmission Unit)**는 네트워크 패킷의 최대 크기를 설정하는 값입니다. `mtu` 옵션을 통해 MTU 값을 설정하면 네트워크 성능을 조정할 수 있습니다.

```bash
ifconfig eth0 mtu 1500
```

예시: `eth0` 인터페이스의 MTU 크기를 `1500` 바이트로 설정합니다.

### MAC 주소 변경(hw ether)

**MAC(Media Access Control)** 주소는 네트워크 인터페이스에 할당된 고유 식별자입니다. 이를 `ifconfig` 명령어의 `hw ether` 옵션으로 변경할 수 있습니다.

```bash
ifconfig eth0 hw ether 00:11:22:33:44:55
```

예시: `eth0` 인터페이스의 MAC 주소를 `00:11:22:33:44:55`로 변경합니다.

## 출력 정보 확인

내 컴퓨터에서 `ifconfig` 명령어를 통해 나오는 '네트워크 인터페이스'에는 `enp2s0`, `lo`, `wlp1s0`가 있으나, `wlp1s0`의 출력 정보만 확인해 보겠습니다

```python
wlp1s0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.18.10.100  netmask 255.255.255.0  broadcast 192.18.10.255
        inet6 fe80::8cbf:1dc1:c435:7896  prefixlen 64  scopeid 0x20<link>
        ether 00:11:22:33:44:55  txqueuelen 1000  (Ethernet)
        RX packets 38699  bytes 47225350 (47.2 MB)
        RX errors 0  dropped 93  overruns 0  frame 0
        TX packets 10830  bytes 3604213 (3.6 MB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
```

1. `wlp1s0`: 인터페이스의 이름입니다

2. `flags=4163<UP,BROADCAST,RUNNING,MULTICAST>`

  - `flags`: 인터페이스의 상태와 기능을 나타냅니다.
  - `UP`: 인터페이스가 활성화되어 있음.
  - `BROADCAST`: 이 인터페이스가 브로드캐스트(모든 장치로 메시지를 전송하는) 기능을 지원함.
  - `RUNNING`: 인터페이스가 현재 작동 중임.
  - `MULTICAST`: 이 인터페이스가 멀티캐스트(특정 그룹의 장치에만 메시지를 전송하는) 기능을 지원함.
  - `4163`은 이 플래그들의 합으로, 16진수로 변환하면 각 플래그를 나타냅니다.

3. `MTU 1500`: 네트워크를 통해 전송할 수 있는 최대 패킷 크기인 `MTU`가 `1500byte`임을 나타냅니다. 

4. `inet 192.18.10.100`: **IPv4 주소**. 이 경우, `192.18.10.100`이 인터페이스에 할당된 IP 주소입니다.

5. `netmask 255.255.255.0`: **서브넷 마스크**로, 네트워크 주소와 호스트 주소를 구분하는 데 사용됩니다. 255.255.255.0은 네트워크 부분이 첫 3바이트(24비트)로, 호스트 주소는 마지막 1바이트(8비트)로 구성된 서브넷을 나타냅니다.

6. `broadcast 192.18.10.255`: **브로드캐스트 주소**로, 네트워크 상의 모든 장치에 패킷을 전송할 때 사용되는 주소입니다.

7. `inet6 fe80::8cbf:1dc1:c435:7896`: **IPv6 주소**. 이 경우, `fe80::8cbf:1dc1:c435:7896`은 로컬 링크 주소로, 로컬 네트워크에서만 사용됩니다.

8. `prefixlen 64`: **IPv6 서브넷의 길이**로, 앞의 64비트가 네트워크 주소 부분임을 의미합니다.

9. `scopeid 0x20<link>`: **IPv6 주소의 유효 범위**를 나타냅니다. `link`는 이 주소가 로컬 링크 내에서만 유효하다는 의미입니다.

10. `ether 00:11:22:33:44:55`: **MAC 주소**로, 인터페이스의 물리적 주소를 나타냅니다.

11. `txqueuelen 1000`: **송신 대기열의 길이**를 나타냅니다. 송신할 수 있는 패킷의 최대 수는 `1000`입니다.

12. `RX packets 38699 bytes 47225350 (47.2 MB)`: **수신 패킷과 수신된 데이터 양**입니다. `38699`개의 패킷을 통해 총 `47.2MB`의 데이터를 수신했습니다.

13. `RX errors 0 dropped 93 overruns 0 frame 0`: **수신 과정에서 발생한 오류 수**입니다. 오류는 없고, `93`개의 패킷이 드롭(처리하지 못함)되었습니다.

14. `TX packets 10830 bytes 3604213 (3.6 MB)`: **송신 패킷과 송신된 데이터 양**입니다. `10830`개의 패킷을 통해 `3.6MB`의 데이터를 송신했습니다.

15. `TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0`: **송신 과정에서 발생한 오류 수**입니다. 모든 항목이 `0`으로, 송신 과정에 문제가 없음을 나타냅니다.( <b>carrier</b>: 캐리어 신호 문제로 인한 오류 수, <b>collisions</b>: 충돌이 발생한 횟수)

## 네트워크 인터페이스

### 유선 이더넷 인터페이스(enp2s0)

**enp2s0**는 **유선 네트워크 인터페이스**를 나타냅니다.

네이밍 규칙에서,

- **en**은 이더넷(Ethernet) 인터페이스를 의미합니다.
- **p2**는 물리적 슬롯 번호를 나타내며, 
- **s0**는 슬롯의 서브 인덱스입니다. 즉, PCI 슬롯 2번에 연결된 첫 번째 서브 슬롯에 해당하는 이더넷 인터페이스라는 의미입니다.

이는 예전의 **eth0**와 같은 역할을 합니다.

### 루프백 인터페이스(lo)

**lo**는 **루프백(Loopback) 인터페이스**로, 시스템 내부에서 자신과의 통신에 사용되는 가상 네트워크 인터페이스입니다.
루프백 주소는 주로 `127.0.0.1`을 사용하며, 시스템이 자기 자신과 통신할 때 이용됩니다.
실제 네트워크와 상관없이 시스템 내부에서만 데이터를 송수신하는 용도로 사용됩니다.
예를 들어, 로컬 서버를 테스트할 때 루프백 인터페이스가 사용됩니다.

### 무선 네트워크(Wi-Fi) 인터페이스(wlp1s0)

**wlp1s0**는 **무선 네트워크 인터페이스(Wi-Fi)**를 나타냅니다.

네이밍 규칙에서 

- **wl**은 무선(Wireless) 인터페이스를 의미합니다.
- **p1**는 물리적 슬롯 번호를 나타내고,
- **s0**는 슬롯의 서브 인덱스입니다. 이는 PCI 슬롯 1번에 연결된 무선 네트워크 인터페이스를 의미합니다.

예전의 **wlan0**와 같은 역할을 합니다.

### 네이밍 규칙에 대한 추가 설명

이러한 네트워크 인터페이스 이름은 Predictable Network Interface Names(*예측 가능한 네트워크 인터페이스 이름*) 정책에 따라 지어집니다.

이는 물리적 위치에 기반하여 네트워크 인터페이스 이름이 부여되며, 예전의 `eth0`, `wlan0`와 같은 방식 대신 고정된 네트워크 장치 이름을 제공하여 혼동을 줄이기 위해 도입된 표준입니다.

- **en**: 이더넷 인터페이스 (eth 대신 사용).
- **wl**: 무선(Wi-Fi) 인터페이스 (wlan 대신 사용).
- **lo**: 루프백 인터페이스.
- **pX**: 장치가 연결된 PCI 버스 번호.
- **sX**: 슬롯 또는 장치의 서브 인덱스.