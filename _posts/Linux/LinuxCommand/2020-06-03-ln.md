---
layout: single
title: "ln 명령어"
categories: Linux
tag: [Linux, ln]
permalink : /posts/LinuxCommand-ln/
classes : custom-style
toc: true
author_profile: false
sidebar:
  nav: "Linux"
---

<hr>

# ln 명령어

파일이나 디렉토리의 링크를 생성하는 명령어.

링크의 종류에는 **하드 링크(Hard Link)**와 **심볼릭 링크(Symbolic Link)**가 있음

## ln 명령어 기본 구문

```bash
ln [옵션] [원본 파일 또는 디렉토리] [링크 이름]
```

## 하드 링크(Hard Link)

- 하드 링크는 같은 파일 시스템 내에서 원본 파일의 또 다른 이름을 만드는 방식

- 파일명이 다르지만, 동일한 데이터 블록을 참조하고 있음

- 한 쪽이 수정되면 하드 링크된 파일들도 함께 수정 됨

- 한 쪽이 삭제되도 다른 하드 링크가 데이터를 가지고 있으므로, 데이터에 접근이 가능함

## 심볼릭 링크(Symbolic Link)

- 윈도우(Window)의 바로가기와 같은 역할

- 파일이나 디렉토리의 경로를 참조하는 링크로 파일이나 디렉토리의 위치를 가리키는 포인터 역할을 함

- 심볼릭 링크는 단순히 경로를 저장하고 있을 뿐이므로, 원본 파일이 삭제되거나 경로가 바뀌면 링크가 유효하지 않게 됨

- 심볼릭 링크는 `ls -l` 명령어를 사용하여 쉽게 확인할 수 있습니다. 심볼릭 링크는 파일 목록에서 화살표(->)와 함께 표시됩니다.

```bash
ls -l
>> lrwxrwxrwx 1 user user    18 Aug  9 12:34 link_to_original.txt -> /home/user/original.txt
```

## ln 명령어 옵션

\1. 옵션 미지정 : 하드 링크 생성

```bash
ln  /path/to/original /path/to/link
```

\2. `-s` : 심볼릭 링크 생성

```bash
ln -s /path/to/original /path/to/link
```

\3. `-f` : 기존 파일 덮어쓰기

  - 심볼릭 링크를 생성할 때 기존에 동일한 이름의 파일이 있으면 그 파일을 덮어씁니다.

```bash
ln -sf /path/to/original /path/to/link
```

\4. `-v` : 자세한 출력

  - 링크를 생성하는 과정에서 상세한 정보를 출력합니다

```bash
ln -sv /path/to/original /path/to/link
```

5. `-n` : 심볼릭 링크를 대상으로 덮어쓰기

  - 심볼릭 링크를 새 링크로 덮어쓸 때, 링크 자체를 덮어쓰고 링크가 가리키는 원본 파일에는 영향을 주지 않습니다.


## 하드 링크와 심볼릭 링크의 차이

|        특징       |                         하드 링크                         |                    심볼릭 링크                    |
|:-----------------:|:---------------------------------------------------------:|:-------------------------------------------------:|
|     동작 방식     |              파일의 실제 데이터 블록을 가리킴             |       원본 파일이나 디렉토리의 경로를 가리킴      |
| 원본 파일 삭제 시 |         링크 파일이 계속 존재하고 데이터를 유지함         |           링크가 깨져서 유효하지 않게 됨          |
|  파일 시스템 제한 |               같은 파일 시스템 내에서만 동작              |    다른 파일 시스템이나 파티션에 대해 작동 가능   |
|   디렉토리 링크   |      디렉토리에 대한 하드 링크는 일반적으로 생성 불가     |       디렉토리에 대한 심볼릭 링크 생성 가능       |
|     파일 크기     | 동일한 데이터 블록을 공유하므로 추가 공간을 차지하지 않음 | 링크 파일 자체가 경로를 저장하는 작은 크기의 파일 |