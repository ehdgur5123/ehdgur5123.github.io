---
layout: single
title: "nslookup ëª…ë ¹ì–´"
categories: Linux
tag: [Linux, nslookup]
permalink : /posts/LinuxCommand-nslookup/
classes : custom-style
toc: true
author_profile: false
sidebar:
  nav: "Linux"
---

<hr>

# nslookup ëª…ë ¹ì–´

`nslookup`(Name Server Lookup) ëª…ë ¹ì–´ëŠ” Linux, Unix ë° Windows ìš´ì˜ ì²´ì œì—ì„œ **DNS(Domain Name System) ì¡°íšŒë¥¼ ìˆ˜í–‰í•˜ëŠ” ë„êµ¬**ì…ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ë„ë©”ì¸ ì´ë¦„ì„ IP ì£¼ì†Œë¡œ ë³€í™˜í•˜ê±°ë‚˜, IP ì£¼ì†Œë¥¼ ë„ë©”ì¸ ì´ë¦„ìœ¼ë¡œ ë³€í™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ, íŠ¹ì • ë„ë©”ì¸ì˜ ë„¤ì„ ì„œë²„(NS) ì •ë³´ë‚˜ ë©”ì¼ ì„œë²„(MX) ì •ë³´ ë“±ì˜ DNS ë ˆì½”ë“œë¥¼ í™•ì¸í•  ë•Œë„ ìœ ìš©í•©ë‹ˆë‹¤.

## 1. nslookup ëª…ë ¹ì–´ ê¸°ë³¸ êµ¬ë¬¸

```bash
nslookup [ì˜µì…˜] [ë„ë©”ì¸ ë˜ëŠ” IP ì£¼ì†Œ]
```

`nslookup` ëª…ë ¹ì–´ëŠ” ë„ë©”ì¸ ì´ë¦„ ë˜ëŠ” IP ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì—¬ í•´ë‹¹í•˜ëŠ” DNS ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤. **ë„ë©”ì¸ ì´ë¦„ì„ ì…ë ¥í•˜ë©´ í•´ë‹¹ IP ì£¼ì†Œë¥¼ ë°˜í™˜**í•˜ê³ , **IP ì£¼ì†Œë¥¼ ì…ë ¥í•˜ë©´ í•´ë‹¹ IPì˜ ë„ë©”ì¸ ì´ë¦„ì„ ë°˜í™˜**í•©ë‹ˆë‹¤.

## 2. ì£¼ìš” ì˜µì…˜ ë° ì¡°ê±´

### ë„ë©”ì¸ì˜ IP ì£¼ì†Œ ì¡°íšŒ (ê¸°ë³¸ ì‚¬ìš©)

ê¸°ë³¸ì ìœ¼ë¡œ `nslookup` ëª…ë ¹ì–´ëŠ” ë„ë©”ì¸ì˜ IP ì£¼ì†Œë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤. ë³„ë„ì˜ ì˜µì…˜ ì—†ì´ ë„ë©”ì¸ ì´ë¦„ë§Œ ì…ë ¥í•˜ë©´, í•´ë‹¹ ë„ë©”ì¸ì˜ **A ë ˆì½”ë“œ(IPv4 ì£¼ì†Œ)**ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

```bash
nslookup google.com

>>>
Server:         192.168.111.2
Address:        192.168.111.2#53

Non-authoritative answer:
Name:   google.com
Address: 172.217.26.238
Name:   google.com
Address: 2404:6800:4004:81c::200e
```

- `192.168.111.2`ëŠ” ë‚˜ì˜ ë¡œì»¬ ë„¤íŠ¸ì›Œí¬ ë˜ëŠ” ë¼ìš°í„°ì—ì„œ ì§€ì •í•œ DNS ì„œë²„ì…ë‹ˆë‹¤.
- `#53`ì€ í¬íŠ¸ë¡œ, **53ë²ˆ í¬íŠ¸**ëŠ” **DNS ìš”ì²­ ë° ì‘ë‹µì— ê¸°ë³¸ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” í‘œì¤€ í¬íŠ¸**ì…ë‹ˆë‹¤.
- `172.217.26.238`ì€ `google.com`ì˜ **IPv4** ì£¼ì†Œì…ë‹ˆë‹¤.
- `2404:6800:4004:81c::200e`ì€ `google.com`ì˜ **IPv6** ì£¼ì†Œì…ë‹ˆë‹¤.

### IP ì£¼ì†Œë¡œ ë„ë©”ì¸ ì´ë¦„ ì¡°íšŒ (ì—­ë°©í–¥ ì¡°íšŒ)

IP ì£¼ì†Œë¥¼ ì‚¬ìš©í•˜ì—¬ ë„ë©”ì¸ ì´ë¦„ì„ ì¡°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ì—­ë°©í–¥ ì¡°íšŒë¡œ, **IP ì£¼ì†Œì— ë§¤í•‘ëœ ë„ë©”ì¸ ì´ë¦„ì„ í™•ì¸**í•  ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤.

```bash
nslookup 8.8.8.8

>>>
8.8.8.8.in-addr.arpa    name = dns.google.

Authoritative answers can be found from:
```

ì˜ˆì‹œ: IP ì£¼ì†Œ `8.8.8.8`ì˜ ë„ë©”ì¸ ì´ë¦„ì€ `dns.google` ì…ë‹ˆë‹¤.

### íŠ¹ì • DNS ì„œë²„ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¡°íšŒí•˜ê¸°(DNS ì„œë²„ ì§€ì •)

íŠ¹ì • DNS ì„œë²„ë¥¼ ì§€ì •í•˜ì—¬ ë„ë©”ì¸ ì •ë³´ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œëŠ” ë¡œì»¬ ì‹œìŠ¤í…œì˜ DNS ì„¤ì •ì— ë”°ë¼ ì¡°íšŒê°€ ì´ë£¨ì–´ì§€ì§€ë§Œ, **ë‹¤ë¥¸ DNS ì„œë²„ë¥¼ ì‚¬ìš©í•´ ì›í•˜ëŠ” ì •ë³´ë¥¼ í™•ì¸**í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.

```bash
nslookup google.com 8.8.8.8

>>>
Server:         8.8.8.8
Address:        8.8.8.8#53

Non-authoritative answer:
Name:   google.com
Address: 172.217.25.174
Name:   google.com
Address: 2404:6800:400a:80a::200e
```

ê¸°ë³¸ì (`nslookup google.com`)ìœ¼ë¡œëŠ” ë‚˜ì˜ ë¡œì»¬ ë„¤íŠ¸ì›Œí¬ì—ì„œ ì§€ì •í•œ DNS ì„œë²„(`192.168.111.2`)ë¥¼ í†µí•´ `google.com`ì˜ ë„ë©”ì¸ ì •ë³´ë¥¼ ì¡°íšŒí•˜ì§€ë§Œ, 

`nslookup google.com 8.8.8.8`ì€ **Google DNS ì„œë²„(8.8.8.8)**ë¥¼ ì‚¬ìš©í•˜ì—¬ `google.com`ì˜ ë„ë©”ì¸ ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.

### ëŒ€í™”í˜• ëª¨ë“œ ì‚¬ìš©

**ëŒ€í™”í˜• ëª¨ë“œ**ëŠ” nslookup ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•œ í›„, ë‹¤ì–‘í•œ ì„¤ì • ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¶”ê°€ì ì¸ DNS ì¡°íšŒ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ëª¨ë“œì…ë‹ˆë‹¤.

```bash
nslookup
```

`nslookup`ì„ ì…ë ¥í•œ í›„, `Enter`ë¥¼ ëˆ„ë¥´ë©´ ëŒ€í™”í˜• ëª¨ë“œë¡œ ì§„ì…í•©ë‹ˆë‹¤. 

ëŒ€í™”í˜• ëª¨ë“œì˜ ì¶”ê°€ ì„¤ì • ëª…ë ¹ì–´(`set type=`, `server`, `exit` ë“±)ë¥¼ í†µí•´ ë³´ë‹¤ ì„¸ë¶€ì ì¸ DNS ì¡°íšŒë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

`server`ëŠ” ë‚˜ì˜ DNS ì„œë²„ë¥¼ ì¶œë ¥í•˜ë©°, `exit`ëŠ” ëŒ€í™”í˜• ëª¨ë“œë¥¼ ì¢…ë£Œí•˜ëŠ” ëª…ë ¹ì–´ ì…ë‹ˆë‹¤.

#### íŠ¹ì • ë ˆì½”ë“œ ìœ í˜• ì¡°íšŒ(set type=ë ˆì½”ë“œ ìœ í˜•)

`set type=` ë‹¤ìŒì—ëŠ” ì¡°íšŒí•˜ê³ ì í•˜ëŠ” **DNS ë ˆì½”ë“œ ìœ í˜•**ì„ ì§€ì •í•©ë‹ˆë‹¤.(`set type=ë ˆì½”ë“œ ìœ í˜•`)

DNS ë ˆì½”ë“œì˜ ìœ í˜•ì—ëŠ” ë§ì€ ì¢…ë¥˜ê°€ ìˆìœ¼ë©°, DNS ë ˆì½”ë“œ ìœ í˜•ì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…ì€ `host` ëª…ë ¹ì–´ë¥¼ ì°¸ì¡°í•˜ì‹­ì‹œì˜¤.(ğŸ‘‰ [host ëª…ë ¹ì–´](https://ehdgur5123.github.io/posts/LinuxCommand-host))

ì—¬ê¸°ì—ì„œëŠ” ê°„ë‹¨í•œ ì˜ˆì œë¥¼ í†µí•´ ì‚¬ìš© ë°©ë²•ì„ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

```bash
nslookup  #ì—”í„°
> set type=ns  #ì—”í„°
> google.com  #ì—”í„°
```

1. `nslookup` ëª…ë ¹ì–´ë¥¼ í†µí•´ ëŒ€í™”ëª… ëª¨ë“œì— ì§„ì…í•©ë‹ˆë‹¤.
2. `set type=ns` ëª…ë ¹ì–´ë¥¼ í†µí•´ ë‹¤ìŒì— ì…ë ¥í•  ë„ë©”ì¸(`google.com`)ì˜ ë„¤ì„ ì„œë²„(NS) ì •ë³´ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.

# (ì¶”ê°€ì •ë³´) ë‚˜ì˜ DNS ì„œë²„ ë³´ê¸°

í˜„ì¬ ì‹œìŠ¤í…œì—ì„œ ì–´ë–¤ DNS ì„œë²„ë¥¼ ì‚¬ìš©í•˜ê³  ìˆëŠ”ì§€ì— ëŒ€í•œ ì •ë³´ëŠ” `/etc/resolv.conf` íŒŒì¼ì— ìœ„ì¹˜í•´ ìˆìŠµë‹ˆë‹¤.

```bash
cat /etc/resolv.conf

>>>
# Generated by NetworkManager
search localdomain
nameserver 192.168.111.2
```

ì—¬ê¸°ì—ì„œ `192.168.111.2`ëŠ” ë‚˜ì˜ DNS ì„œë²„ì˜ IP ì£¼ì†Œì…ë‹ˆë‹¤.

<small>**53ë²ˆ í¬íŠ¸**ëŠ” **DNS ìš”ì²­ ë° ì‘ë‹µì— ê¸°ë³¸ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” í‘œì¤€ í¬íŠ¸**ì…ë‹ˆë‹¤.</small>

**ì¶”ê°€ ë„¤íŠ¸ì›Œí¬ êµ¬ì„± ì˜ˆ**

1. <b>ì‚¬ìš©ì ì‹œìŠ¤í…œ IP</b>: `192.168.111.128` (í˜„ì¬ ì»´í“¨í„°ì˜ IP)
2. <b>ê²Œì´íŠ¸ì›¨ì´</b>: `192.168.111.1` (ë¼ìš°í„°ì˜ IP)
3. <b>DNS ì„œë²„</b>: `192.168.111.2` (ë¡œì»¬ ë„¤íŠ¸ì›Œí¬ ë˜ëŠ” ë¼ìš°í„°ì—ì„œ ì§€ì •í•œ DNS ì„œë²„)
