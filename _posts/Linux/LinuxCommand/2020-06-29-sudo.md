---
layout: single
title: "sudo 명령어"
categories: Linux
tag: [Linux, sudo]
permalink : /posts/LinuxCommand-sudo/
classes : custom-style
toc: true
author_profile: false
sidebar:
  nav: "Linux"
---

<hr>

# sudo 명령어

`sudo`(SuperUser DO)는 Linux 및 Unix 계열 운영 체제에서 일시적으로 **슈퍼유저(관리자) 권한을 획득하여 명령을 실행할 수 있는 명령어**입니다. 일반 사용자가 **루트 권한**으로 시스템 명령이나 작업을 수행해야 할 때 사용됩니다. 관리자 권한이 필요한 작업(파일 수정, 패키지 설치 등)을 보안적으로 안전하게 수행할 수 있습니다.

## sudo 명령어 기본 구문

```bash
sudo [옵션] <명령어>
```

`sudo` 명령어를 사용하면, <b>일반 사용자가 관리자 권한으로 특정 명령어를 실행</b>할 수 있습니다. 이 명령어를 실행하면 **비밀번호 입력을 요구**할 수 있습니다.

## 주요 옵션 및 조건

### 특정 사용자가 되어서 명령 실행(-u)

`-u`: <b>user</b>의 약자로, 이 옵션을 사용하면 **특정 사용자의 권한으로 명령을 실행**할 수 있습니다. 기본적으로는 루트 사용자로 명령이 실행되지만, 다른 사용자를 지정하여 그 사용자의 권한으로 명령을 실행할 수도 있습니다.

```bash
sudo -u <사용자이름> <명령어>
```

예시: `sudo -u alice ls`는 `alice` 사용자 권한으로 `ls` 명령어를 실행합니다.

### 비밀번호 묻지 않고 실행(-S)

`-S`: <b>stdin</b>의 약자로, 이 옵션은 **비밀번호 없이 명령을 실행**할 수 있게 합니다. 이 옵션을 사용하면, `sudo`가 **표준 입력에서 비밀번호를 읽습니다**. 스크립트나 자동화된 작업에 사용할 수 있습니다.

```bash
echo "password" | sudo -S <명령어>
```

예시: `echo "password" | sudo -S apt update`는 비밀번호를 입력하는 대신, **echo**로 전달한 비밀번호를 사용하여 `apt update` 명령어를 실행합니다.

### 비밀번호 입력 없이 실행(--non-interactive)

`--non-interactive`: <b>비대화식 모드</b>로, 이 옵션은 **비밀번호 입력을 요구하지 않고**, 비밀번호가 필요할 경우 그냥 **명령어 실행에 실패**하도록 설정합니다. 이 옵션은 비밀번호 입력을 금지한 환경에서 사용됩니다.

```bash
sudo --non-interactive <명령어>
```

예시: `sudo --non-interactive apt update`는 비밀번호 없이 명령어를 실행하며, 비밀번호가 필요할 경우 명령이 실패합니다.

### 이전에 성공한 인증 기록 사용(-n)

`-n`: <b>non-password prompt<b>의 약자로, 이 옵션을 사용하면, **이전에 성공한 인증 기록을 재사용하여 비밀번호를 입력하지 않고 명령을 실행**할 수 있습니다. 이 옵션은 `sudo`가 최근에 사용되었다면 비밀번호를 생략하고 명령어를 실행합니다.

```bash
sudo -n <명령어>
```

예시: `sudo -n ls /root`는 최근에 비밀번호를 입력한 기록이 있을 경우, 다시 비밀번호 입력을 요구하지 않고 명령을 실행합니다.

### 현재 사용자에 대한 sudo 세션 리셋(-k)

`-k`: <b>kill</b>의 약자로, 이 옵션은 **현재 사용자의 sudo 인증을 만료**시킵니다. 즉, **다시 비밀번호를 요구**하게 됩니다. 이를 통해, 현재 인증 세션을 종료하고 다시 로그인하도록 할 수 있습니다.

```bash
sudo -k
```

예시: `sudo -k`를 입력하면, 다음에 `sudo` 명령어를 실행할 때 다시 비밀번호 입력을 요구합니다.

### 현재 sudo 세션 유지(-v)

`-v`: <b>validate</b>(검증)의 약자로, 이 옵션은 현재 사용자의 `sudo` **인증 세션을 갱신**합니다. 이 옵션을 사용하면, **비밀번호 입력을 요구하지 않는 시간이 연장**됩니다. 비밀번호를 입력하지 않고 `sudo` 권한을 유지하고 싶을 때 사용합니다.

```bash
sudo -v
```

예시: `sudo -v`는 현재 `sudo` 세션을 갱신하여 다시 비밀번호를 입력할 필요 없이 `sudo` 명령어를 연장합니다.