---
layout: single
title: "ssh λ…λ Ήμ–΄"
categories: Linux
tag: [Linux, ssh]
permalink : /posts/LinuxCommand-ssh/
classes : custom-style
toc: true
author_profile: false
sidebar:
  nav: "Linux"
---

<hr>

# ssh λ…λ Ήμ–΄

`ssh` λ…λ Ήμ–΄λ” <b>Secure Shell</b>μ μ•½μλ΅, **μ›κ²© μ‹μ¤ν…μ— μ•μ „ν•κ² μ ‘μ†**ν•κΈ° μ„ν• λ„¤νΈμ›ν¬ ν”„λ΅ν† μ½ λ° ν΄λΌμ΄μ–ΈνΈ λ„κµ¬μ…λ‹λ‹¤. `ssh`λ” μ•”νΈν™”λ ν†µμ‹ μ„ ν†µν•΄ μ›κ²© μ„λ²„μ™€ μ•μ „ν•κ² μ—°κ²°λλ©°, νμΌ μ „μ†΅, μ›κ²© λ…λ Ή μ‹¤ν–‰, ν„°λ„λ§ λ“±μ„ ν•  μ μμµλ‹λ‹¤. SSHλ” μ£Όλ΅ λ¦¬λ…μ¤ λλ” μ λ‹‰μ¤ μ„λ²„μ— μ›κ²©μΌλ΅ μ ‘μ†ν•  λ• μ‚¬μ©λλ©°, λΉ„λ°€λ²νΈ μΈμ¦ λλ” κ³µκ° ν‚¤ μΈμ¦μ„ μ§€μ›ν•©λ‹λ‹¤.

# κΈ°λ³Έ κµ¬λ¬Έ

```bash
ssh [μµμ…] [μ‚¬μ©μ]@[νΈμ¤νΈ] [λ…λ Ήμ–΄]
```

- `[μ‚¬μ©μ]`: μ›κ²© μ‹μ¤ν…μ— μ ‘μ†ν•  μ‚¬μ©μ μ΄λ¦„.
- `[νΈμ¤νΈ]`: μ›κ²© μ„λ²„μ IP μ£Όμ† λλ” λ„λ©”μΈ μ΄λ¦„.
- `[λ…λ Ήμ–΄]`: μ›κ²© μ„λ²„μ—μ„ μ‹¤ν–‰ν•  λ…λ Ήμ–΄. μƒλµν•  κ²½μ° μ›κ²© μ‹μ¤ν…μ μ…Έμ— μ ‘μ†λ©λ‹λ‹¤.

# μ£Όμ” μµμ… λ° μ΅°κ±΄

```
ssh [μµμ…] [μ‚¬μ©μ@νΈμ¤νΈ]

-p [ν¬νΈλ²νΈ] : SSH μ—°κ²°μ— μ‚¬μ©ν•  ν¬νΈ λ²νΈλ¥Ό μ§€μ •.
-i [νμΌ] : μΈμ¦μ— μ‚¬μ©ν•  κ°μΈ ν‚¤ νμΌμ„ μ§€μ •.
-L [λ΅μ»¬ν¬νΈ:νΈμ¤νΈ:μ›κ²©ν¬νΈ] : λ΅μ»¬ ν¬νΈ ν¬μ›λ”© μ„¤μ •.
-R [μ›κ²©ν¬νΈ:νΈμ¤νΈ:λ΅μ»¬ν¬νΈ] : μ›κ²© ν¬νΈ ν¬μ›λ”© μ„¤μ •.
-D [λ΅μ»¬ν¬νΈ] : λ™μ  μ• ν”λ¦¬μΌ€μ΄μ… ν¬νΈ ν¬μ›λ”© (SOCKS ν”„λ΅μ‹).
-C : λ°μ΄ν„° μ „μ†΅ μ‹ μ••μ¶• μ‚¬μ©.
-N : μ›κ²© λ…λ Ήμ„ μ‹¤ν–‰ν•μ§€ μ•κ³  ν¬νΈ ν¬μ›λ”©λ§ μ„¤μ •.
-q : κ²½κ³  λ©”μ‹μ§€λ¥Ό ν‘μ‹ν•μ§€ μ•μ (μ΅°μ©ν• λ¨λ“).
-v : μμ„Έν• λ””λ²„κ·Έ μ •λ³΄λ¥Ό μ¶λ ¥.
-X : X11 ν¬μ›λ”©μ„ ν™μ„±ν™”.
-o [μµμ…] : SSH κµ¬μ„± νμΌμ— μλ” μµμ…μ„ λ…λ Ήμ–΄λ΅ μ§€μ •ν•μ—¬ μ‚¬μ©.
```

## 1. μ›κ²© μ„λ²„μ— μ ‘μ†(μµμ… λ―Έμ§€μ •)

κ°€μ¥ κΈ°λ³Έμ μΌλ΅, **μ›κ²© μ„λ²„μ— μ ‘μ†**ν•  λ•λ” μ‚¬μ©μμ μ΄λ¦„κ³Ό νΈμ¤νΈ μ΄λ¦„ λλ” IP μ£Όμ†λ¥Ό μ§€μ •ν•©λ‹λ‹¤.

```bash
ssh user@remote_server
```

μμ‹: `user`λΌλ” μ΄λ¦„μΌλ΅ `remote_server`μ— μ ‘μ†ν•©λ‹λ‹¤. μ ‘μ†ν•λ©΄ ν•΄λ‹Ή μ„λ²„μ—μ„ μ…Έμ΄ μ—΄λ¦¬λ©°, μ›κ²© μ„λ²„μ—μ„ λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•  μ μμµλ‹λ‹¤.

## 2. νΉμ • ν¬νΈλ΅ μ ‘μ†(-p)

κΈ°λ³Έμ μΌλ΅ SSHλ” **ν¬νΈ 22**λ¥Ό μ‚¬μ©ν•μ§€λ§, **λ‹¤λ¥Έ ν¬νΈλ¥Ό μ§€μ •**ν•  μ μμµλ‹λ‹¤. μ΄λ• `-p` μµμ…μ„ μ‚¬μ©ν•©λ‹λ‹¤.

```bash
ssh -p 2222 user@remote_server
```

μμ‹: ν¬νΈ <b>2222</b>λ΅ `remote_server`μ— μ ‘μ†ν•©λ‹λ‹¤.

## μ›κ²© μ„λ²„μ—μ„ λ…λ Ήμ–΄ μ‹¤ν–‰

SSHλ¥Ό ν†µν•΄ **μ›κ²© μ„λ²„μ—μ„ νΉμ • λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰**ν•κ³  κ²°κ³Όλ¥Ό λ΅μ»¬μ—μ„ λ°”λ΅ ν™•μΈν•  μ μμµλ‹λ‹¤. μ›κ²© μ„λ²„μ— μ ‘μ†ν•μ§€ μ•κ³ λ„ λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•κ³  κ²°κ³Όλ¥Ό ν™•μΈν•λ ¤λ” κ²½μ° μ μ©ν•©λ‹λ‹¤.

```bash
ssh user@remote_server "ls -l /var/log"
```

μμ‹: `remote_server`μ—μ„ `ls -l /var/log` λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν• κ²°κ³Όλ¥Ό λ΅μ»¬μ— μ¶λ ¥ν•©λ‹λ‹¤.

## 4. SSH κ³µκ° ν‚¤ μΈμ¦(-i)

SSH μ ‘μ† μ‹ λΉ„λ°€λ²νΈ λ€μ‹  **κ³µκ° ν‚¤ μΈμ¦**μ„ μ‚¬μ©ν•  μ μμµλ‹λ‹¤. μ΄λ¥Ό μ„ν•΄, **ν”„λΌμ΄λΉ— ν‚¤(private key)**λ¥Ό μ§€μ •ν•λ” μµμ…μ΄ `-i`μ…λ‹λ‹¤.

```bash
ssh -i ~/.ssh/id_rsa user@remote_server
```

μμ‹: `~/.ssh/id_rsa` νμΌμ— μ €μ¥λ ν”„λΌμ΄λΉ— ν‚¤λ¥Ό μ‚¬μ©ν•μ—¬ `remote_server`μ— μ ‘μ†ν•©λ‹λ‹¤.

## 5. X11 ν¬μ›λ”© ν™μ„±ν™”(-X)

SSHλ¥Ό ν†µν•΄ μ›κ²© μ„λ²„μ **κ·Έλν”½ μ• ν”λ¦¬μΌ€μ΄μ…μ„ λ΅μ»¬μ—μ„ μ‹¤ν–‰**ν•κ³ μ ν•  λ• `-X` μµμ…μ„ μ‚¬μ©ν•μ—¬ **X11 ν¬μ›λ”©**μ„ ν™μ„±ν™”ν•  μ μμµλ‹λ‹¤.

```bash
ssh -X user@remote_server
```

μμ‹: X11 ν¬μ›λ”©μ„ ν™μ„±ν™”ν•μ—¬ μ›κ²© μ„λ²„μ—μ„ κ·Έλν”½ μ• ν”λ¦¬μΌ€μ΄μ…μ„ μ‹¤ν–‰ν•  μ μκ² ν•©λ‹λ‹¤.

## 6. μ—°κ²° μ μ§€ λ° λΉ„ν™μ„±ν™” μ‹κ°„ μ„¤μ •(-o)

`-o` μµμ…μ„ ν†µν•΄ **SSH ν΄λΌμ΄μ–ΈνΈμ λ‹¤μ–‘ν• μ„¤μ •**μ„ μ§€μ •ν•  μ μμµλ‹λ‹¤. 

```bash
ssh -o ServerAliveInterval=60 user@remote_server
```

μμ‹1: μ„λ²„μ™€μ μ—°κ²° μƒνƒλ¥Ό 60μ΄λ§λ‹¤ ν™•μΈν•μ—¬ μ—°κ²°μ΄ μλ™μΌλ΅ λκΈ°μ§€ μ•λ„λ΅ μ μ§€ν•©λ‹λ‹¤.

```bash
ssh -o PasswordAuthentication=no user@remote_server
```

μμ‹2: λΉ„λ°€λ²νΈ μΈμ¦μ„ λΉ„ν™μ„±ν™”ν•κ³ , ν‚¤ μΈμ¦λ§ ν—μ©ν•μ—¬ `remote_server`μ— μ ‘μ†ν•©λ‹λ‹¤.

## 7. SSH ν„°λ„λ§(-L, -R)

SSHλ” ν¬νΈ ν¬μ›λ”©μ„ ν†µν•΄ **λ„¤νΈμ›ν¬ νΈλν”½μ„ μ•”νΈν™”**ν•κ³  μ „λ‹¬ν•  μ μμµλ‹λ‹¤. μ΄λ¥Ό **SSH ν„°λ„λ§**μ΄λΌκ³  ν•λ©°, λ΅μ»¬ ν¬νΈ λλ” μ›κ²© ν¬νΈλ¥Ό ν¬μ›λ”©ν•  μ μμµλ‹λ‹¤.

### λ΅μ»¬ ν¬νΈ ν¬μ›λ”©(-L)

λ΅μ»¬ μ‹μ¤ν…μ ν¬νΈλ¥Ό μ›κ²© μ‹μ¤ν…μΌλ΅ μ—°κ²°ν•μ—¬ ν¬νΈ ν¬μ›λ”©μ„ μ„¤μ •ν•©λ‹λ‹¤.

```bash
ssh -L 8080:localhost:80 user@remote_server
```

μμ‹: **λ΅μ»¬ μ‹μ¤ν…μ 8080λ² ν¬νΈλ¥Ό μ›κ²© μ„λ²„μ 80λ² ν¬νΈλ΅ ν¬μ›λ”©**ν•μ—¬, λ΅μ»¬μ—μ„ `http://localhost:8080`μΌλ΅ μ›κ²© μ„λ²„μ μ›Ή μ„λ²„μ— μ ‘κ·Όν•  μ μμµλ‹λ‹¤.

### μ›κ²© ν¬νΈ ν¬μ›λ”©(-R) 

μ›κ²© μ‹μ¤ν…μ ν¬νΈλ¥Ό λ΅μ»¬ μ‹μ¤ν…μΌλ΅ ν¬μ›λ”©ν•©λ‹λ‹¤.

```bash
ssh -R 9090:localhost:3000 user@remote_server
```

μμ‹: **μ›κ²© μ„λ²„μ 9090λ² ν¬νΈλ¥Ό λ΅μ»¬ μ‹μ¤ν…μ 3000λ² ν¬νΈλ΅ ν¬μ›λ”©**ν•μ—¬, μ›κ²© μ„λ²„μ—μ„ λ΅μ»¬μ μ„λΉ„μ¤μ— μ ‘κ·Όν•  μ μκ² ν•©λ‹λ‹¤.

<small>**ν¬νΈν¬μ›λ”©**μ΄λ€ λ‚΄λ¶€ λ„¤νΈμ›ν¬μ ν¬νΈμ™€ μΈν„°λ„·μ ν¬νΈλ¥Ό μ—°κ²°μ‹μΌ μ„λ΅ ν†µμ‹ ν•  μ μλ„λ΅ μ—΄μ–΄μ£Όλ” κ²ƒμ„ λ§ν•©λ‹λ‹¤. μμ„Έν• μ‚¬ν•­μ€ λ‹¤μ λΈ”λ΅κ·Έλ¥Ό μ°Έμ΅°ν•μ„Έμ”.</small>

[π‘‰ ν¬νΈν¬μ›λ”©(port forwarding)](https://nordvpn.com/ko/blog/port-forwarding-vpn/)
