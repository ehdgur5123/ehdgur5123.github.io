---
layout: single
title: "18) TCP와 UDP"
categories: Network
tag: [Network]
permalink : /posts/Network-18/
toc: true
classes: custom-style
author_profile: false
sidebar:
  nav: "Network"
---

<hr>

# TCP와 UDP

전송 계층에서 가장 중요한 프로토콜에는 TCP와 UDP가 있습니다. 

**TCP**<sup>Transmission Control Protocol</sup>는 *신뢰할 수 있는 통신*을 위한 *연결형 프로토콜*이고, **UDP**<sup>User Datagram Protocol</sup>는 TCP보다 *신뢰성은 떨어지지만* 비교적 빠른 통신이 가능한 *비연결형 프로토콜*입니다.

# TCP(Transmission Control Protocol)

## TCP 통신 단계와 세그먼트 구조

TCP 통신 단계는 다음과 같습니다.

1. 연결수립
2. 데이터 송수신
3. 연결 종료

TCP는 통신(데이터 송수신)하기 전에 *연결을 수립*하고 통신이 끝나면 *연결을 종료*합니다.

그리고 *데이터 송수신* 과정에서 **재전송을 통한 오류 제어**, **흐름 제어**, **혼잡 제어** 등의 기능을 제공합니다.

<p id="img_center">
  <img 
        src="../../assets/images/Network/18-01.PNG"
        alt="image"
        title="image"
  >
</p>

TCP 통신 단계를 이해하기 위해서는 먼저 *MSS*라는 단위와 *TCP의 세그먼트 구조*를 이해해야 합니다. 

### MSS(Maximum Segment Size)

**MSS**는 Maximum Segment Size의 약자로, TCP로 전송할 수 있는 **최대 페이로드 크기**를 의미합니다.

헤더의 크기를 포함하는 MTU와는 다르게, MSS는 TCP 헤더 크기를 제외합니다.

<p id="img_center">
  <img 
        src="../../assets/images/Network/18-02.PNG"
        alt="image"
        title="image"
  >
</p>

### TCP의 세그먼트 구조

TCP의 세그먼트 구조는 다음과 같습니다.

<p id="img_center">
  <img 
        src="../../assets/images/Network/18-03.PNG"
        alt="image"
        title="image"
  >
</p>

- *송신지 포트*와 *수신지 포트*: 송신지 또는 수신지 애플리케이션을 식별하는 포트 번호가 명시되는 필드

- **순서 번호**: 송수신되는 세그먼트의 올바른 순서를 보장하기 위해 *세그먼트 데이터의 첫 바이트에 부여되는 번호*인 순서 번호<sup>sequence number</sup>가 명시되는 필드. 

- **확인 응답 번호**: 상대 호스트가 보낸 세그먼트에 대한 응답으로, 다음으로 수신하기를 기대하는 순서 번호가 명시됨.

- **제어 비트**: 플래그 비트라고도 불리며, 현재 세그먼트에 대한 부가 정보를 나타냄(ACK, SYN, FIN 등)

- *윈도우*: 한 번에 수신하고자 하는 데이터의 양을 나타내는 수신 윈도우<sup>window</sup>의 크기가 명시되는 필드

TCP에서 꼭 알아두어야할 중요한 필드는 순서 번호<sup>sequence number</sup>, 확인 응답 번호<sup>acknowledgment number</sup>, 제어 비트<sup>control bits</sup>입니다.

#### 제어 비트

