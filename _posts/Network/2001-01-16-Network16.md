---
layout: single
title: "16) 포트(Port)"
categories: Network
tag: [Network]
permalink : /posts/Network-16/
toc: true
classes: custom-style
author_profile: false
sidebar:
  nav: "Network"
---

<hr>

# 포트의 정의

컴퓨터가 데이터를 정상적으로 수신 받았다면, 데이터는 최종적으로 웹 브라우저, 게임, 메신저 등과 같은 특정 프로세스에 전달되어야 합니다. 

즉, 네트워크를 통해 송수신되는 패킷의 최종 수신 대상은 컴퓨터 내부의 특정 애플리케이션 프로세스입니다.

**포트**는 이와 같이 네트워크에서 *특정 서비스나 애플리케이션을 구별*하는 역할을 합니다.

또한, 하나의 컴퓨터에서 여러 개의 애플리케이션이 네트워크 통신을 할 수 있도록 해줍니다. *각 애플리케이션은 고유한 포트를 할당*받고, 이를 통해 동시에 여러 통신을 처리할 수 있습니다.

<p id="img_center">
  <img 
        src="../../assets/images/Network/16-01.PNG"
        alt="image"
        title="image"
  >
</p>

# 포트의 분류

전송 계층에서는 **포트 번호**를 통해 특정 애플리케이션을 식별합니다.

포트 번호는 16비트로 표현 가능하며, 사용 가능한 포트 수는 2<sup>16</sup>(65,536)개입니다.

포트 번호는 번호의 범위에 따라, '잘 알려진 포트', '등록된 포트', '동적 포트'로 나뉩니다.

|포트 종류|포트 번호 범위|
|:-------:|:------------:|
|잘 알려진 포트|0 ~ 1023|
|등록된 포트|1024 ~ 49151|
|동적 포트|49152 ~ 65535|

<small>'잘 알려진 포트'와 '등록된 포트'는 **인터넷 할당 번호 관리 기관(IANA)**이라는 국제 단체에 의해 할당되어 있으며, 권고되는 사항일 뿐 강제 사항은 아니므로, 다른 어플리케이션에 할당하여 사용할 수 있습니다.</small>

## 잘 알려진 포트

*잘 알려진 포트*<sup>well known port</sup>는 범용적으로 사용되는 애플리케이션 프로토콜이 일반적으로 사용하는 널리 알려진 포트 번호를 의미합니다. 대표적인 예시는 다음과 같습니다.

|잘 알려진 포트 번호|설명|
|:-------:|:------------:|
|20, 21|FTP|
|22|SSH|
|23|TELNET|
|53|DNS|
|67, 68|DHCP|
|80|HTTP|
|443|HTTPS|

## 등록된 포트

*등록된 포트*<sup>registered port</sup>는 '잘 알려진 포트'에 비해서는 덜 범용적이지만, 흔히 사용되는 애플리케이션 프로토콜에 할당되는 포트 번호 입니다.

|등록된 포트 번호|설명|
|:-------:|:------------:|
|1194|OpenVPN|
|1433|Microsoft SQL Server 데이터베이스|
|3306|MySQL 데이터베이스|
|6379|Redis|
|8080|HTTP 대체|

## 동적 포트

**동적 포트**<sup>dynamic port</sup>는 **사설 포트**<sup>private port</sup> 또는 **임시 포트**<sup>ephemeral port</sup>라고도 불리며, 특별히 관리되지 않는 포트 번호로 자유롭게 할당하여 사용할 수 있습니다.

*서버*로서 동작하는 프로그램은 일반적으로 '잘 알려진 포트'와 '등록된 포트'로 동작하는 경우가 많습니다.

반면에 *클라이언트*로서 동작하는 프로그램은 '동적 포트' 번호 중에서 임의의 번호가 할당되어 사용됩니다.

<p id="img_center">
  <img 
        src="../../assets/images/Network/16-02.PNG"
        alt="image"
        title="image"
  >
</p>

윈도우 운영체제의 `[리소스 모니터]`나 리눅스 운영체제의 `netstat` 명령어를 통해 프로세스들의 포트 번호를 확인할 수 있습니다.

아래 그림에서는 `chrome.exe` 크롬 브라우저(클라이언트)가 `51707`번 포트를 통해 `142.250.199.99`(구글 서버)의 `443`번 포트(HTTPS)와 통신하고 있습니다.

<p id="img_center">
  <img 
        src="../../assets/images/Network/16-03.PNG"
        alt="image"
        title="image"
  >
</p>

위처럼 **IP 주소:포트 번호** 형식으로 정보가 주어지면, *특정 호스트에서 실행 중인 특정 애플리케이션 프로세스*를 식별할 수 있습니다.

```bash
192.168.0.15 : 8000

// IP 주소는 호스트를 식별
// 포트 번호는 애플리케이션 프로세스를 식별
```